(this.webpackJsonpcrab=this.webpackJsonpcrab||[]).push([[0],{18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(12),r=n.n(a),u=(n(18),n(19),n(13)),s=n(10),j=n(7),b=n(6),i=n(28),l=n(24),o=n(25),O=n(26),d=n(29),h=n(27),f=n(1),m=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),m=Object(b.a)(r,2),p=m[0],x=m[1],v=Object(c.useState)(6),g=Object(b.a)(v,2),k=g[0],C=g[1],M=Object(c.useState)([]),y=Object(b.a)(M,2),N=y[0],S=y[1],w=Object(c.useState)({}),E=Object(b.a)(w,2),J=E[0],I=E[1],L=Object(c.useState)([]),z=Object(b.a)(L,2),A=z[0],B=z[1],X=Object(c.useState)(!1),q=Object(b.a)(X,2),D=q[0],F=q[1],G=Object(c.useState)([]),H=Object(b.a)(G,2),K=H[0],P=H[1],Q=Object(c.useState)(null),R=Object(b.a)(Q,2),T=R[0],U=R[1];Object(c.useEffect)((function(){for(var e=[],t={},c=0;c<n;c++){e.push([]);for(var a=0;a<p;a++){var r=Object(i.a)();e[c].push(r),t[r]=Math.round(900*Math.random()+100)}}I(t),S(e)}),[n,p]);var V=Object(c.useMemo)((function(){if(N.length<=0)return 0;var e=[],t=N.map((function(t){if(!t.length)return 0;var n=t.reduce((function(e,t){return e+J[t]}),0),c=t.map((function(e){return Math.round(J[e]/n*100)}));return e.push(c),n}));return P(e),Object(j.a)({},t)}),[N,J]),W=Object(c.useCallback)((function(e,t){return e.map((function(e){return e[t]}))}),[]),Y=Object(c.useMemo)((function(){if(N.length<=0)return 0;for(var e={},t=0;t<N[0].length;t++)e[t]=W(N,t).reduce((function(e,t){return e+J[t]}),0);return e}),[W,N,J]),Z=Object(c.useCallback)((function(e){var t=J[e]+1;I(Object(j.a)(Object(j.a)({},J),{},Object(s.a)({},e,t)))}),[J]),$=Object(c.useCallback)((function(e){if(k){for(var t=k,n=[],c=Object.keys(J).map((function(e){return{name:e,value:J[e]}})).sort((function(e,t){return e.value-t.value})),a=c.findIndex((function(t){return t.name===e})),r=1;r<k+1;r++)c[a-r]&&t>0&&(n.push(c[a-r].name),t-=1),c[a+r]&&t>0&&(n.push(c[a+r].name),t-=1);B(n)}}),[k,J]),_=Object(c.useCallback)((function(){return B([])}),[]),ee=Object(c.useCallback)((function(e){U(e),F(!0)}),[]),te=Object(c.useCallback)((function(){F(!1),U(null)}),[]),ne=Object(c.useCallback)((function(){for(var e=[],t={},n=0;n<p;n++){var c=Object(i.a)();e.push(c),t[c]=Math.round(900*Math.random()+100)}I(Object(j.a)(Object(j.a)({},J),t)),S([].concat(Object(u.a)(N),[e]))}),[p,N,J]),ce=Object(c.useCallback)((function(e){var t=N.slice(),n=JSON.parse(JSON.stringify(J));t.splice(e,1)[0].forEach((function(e){return delete n[e]})),I(n),S(t)}),[N,J]);return Object(f.jsx)(l.a,{children:Object(f.jsx)(o.a,{children:Object(f.jsxs)(O.a,{children:[Object(f.jsxs)("div",{className:"body-inner",children:[Object(f.jsxs)("label",{className:"data-input",children:["M ",Object(f.jsx)("input",{type:"number",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(f.jsxs)("label",{className:"data-input",children:["N ",Object(f.jsx)("input",{type:"number",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(f.jsxs)("label",{className:"data-input",children:["X ",Object(f.jsx)("input",{type:"number",value:k,onChange:function(e){return C(e.target.value)}})]}),Object(f.jsx)(d.a,{onClick:ne,className:"my-4",children:"Add row"})]}),N.length>0&&N[0].length>0?Object(f.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[N[0].map((function(e,t){return Object(f.jsx)("th",{children:Object(f.jsx)("b",{children:t+1})},t)})),Object(f.jsx)("th",{children:"total"},"total")]})}),Object(f.jsxs)("tbody",{children:[N.map((function(e,t){return Object(f.jsxs)("tr",{children:[e.map((function(e,n){return Object(f.jsxs)("td",{onMouseEnter:function(){return $(e)},onMouseLeave:_,onClick:function(){return Z(e)},className:"bcg ".concat(A.includes(e)?"active":""),children:[D&&T===t?K[t][n]:J[e],D&&T===t&&Object(f.jsx)("span",{className:"bcg-active",style:{width:"".concat(K[t][n],"%")}})]},e)})),Object(f.jsx)("td",{className:"last-item",onMouseEnter:function(){return ee(t)},onMouseLeave:te,children:Object(f.jsx)("b",{children:V[t]})},"last-item"),Object(f.jsx)("td",{style:{width:0},children:Object(f.jsx)(d.a,{variant:"danger",size:"sm",onClick:function(){return ce(t)},children:"-"})},Math.random())]},t)})),Object(f.jsxs)("tr",{children:[N[0].map((function(e,t){return Object(f.jsx)("td",{children:Object(f.jsx)("b",{children:Y[t]})},t*Y[t])})),Object(f.jsx)("td",{children:"-"},"last")]})]})]}):null]})})})};var p=function(){return Object(f.jsx)(m,{})};r.a.render(Object(f.jsx)(p,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e9079ee2.chunk.js.map